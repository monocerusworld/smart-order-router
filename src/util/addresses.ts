import { Token } from '@uniswap/sdk-core';
import { FACTORY_ADDRESS } from '@uniswap/v3-sdk';

import { ChainId, NETWORKS_WITH_SAME_UNISWAP_ADDRESSES } from './chains';

const CELO_V3_CORE_FACTORY_ADDRESSES =
  '0xAfE208a311B21f13EF87E33A90049fC17A7acDEc';
const CELO_QUOTER_ADDRESSES = '0x82825d0554fA07f7FC52Ab63c961F330fdEFa8E8';
const CELO_MULTICALL_ADDRESS = '0x633987602DE5C4F337e3DbF265303A1080324204';

const ARBITRUM_GOERLI_V3_CORE_FACTORY_ADDRESSES =
  '0x4893376342d5D7b3e31d4184c08b265e5aB2A3f6';
const ARBITRUM_GOERLI_QUOTER_ADDRESSES =
  '0x1dd92b83591781D0C6d98d07391eea4b9a6008FA';
const ARBITRUM_GOERLI_MULTICALL_ADDRESS =
  '0x8260CB40247290317a4c062F3542622367F206Ee';

const OPTIMISM_GOERLI_V3_CORE_FACTORY_ADDRESSES =
  '0xB656dA17129e7EB733A557f4EBc57B76CFbB5d10';
const OPTIMISM_GOERLI_QUOTER_ADDRESSES =
  '0x9569CbA925c8ca2248772A9A4976A516743A246F';
const OPTIMISM_GOERLI_MULTICALL_ADDRESS =
  '0x07F2D8a2a02251B62af965f22fC4744A5f96BCCd';

const BSC_V3_CORE_FACTORY_ADDRESSES =
  '0xdB1d10011AD0Ff90774D0C6Bb92e5C5c8b4461F7';
const BSC_QUOTER_ADDRESSES = '0x78D78E420Da98ad378D7799bE8f4AF69033EB077';
const BSC_MULTICALL_ADDRESS = '0x963Df249eD09c358A4819E39d9Cd5736c3087184';

export const BSC_TICK_LENS_ADDRESS =
  '0xD9270014D396281579760619CCf4c3af0501A47C';
export const BSC_NONFUNGIBLE_POSITION_MANAGER_ADDRESS =
  '0x7b8A01B39D58278b5DE7e48c8449c9f4F5170613';
export const BSC_SWAP_ROUTER_02_ADDRESS =
  '0xB971eF87ede563556b2ED4b1C0b0019111Dd85d2';
export const BSC_V3_MIGRATOR_ADDRESS =
  '0x32681814957e0C13117ddc0c2aba232b5c9e760f';

const FANTOM_V3_CORE_FACTORY_ADDRESSES =
  '0x93Fe795B57ca0eb61B7d6A64E74954f34ffb7Da3';
const FANTOM_QUOTER_ADDRESSES = '0x86C63c2D5bD6677dc099eEe00b203174Ea7754Bf';
const FANTOM_MULTICALL_ADDRESS = '0xb373867eB3e87067486DcD134a0e1EC8573F37a5';
export const FANTOM_TICK_LENS_ADDRESS =
  '0x5D70590B3EEF83AD70981b67A8D92c54739CDD00';
export const FANTOM_NONFUNGIBLE_POSITION_MANAGER_ADDRESS =
  '0x6B93786435Fc65996693C26454752501a0084C36';
export const FANTOM_SWAP_ROUTER_02_ADDRESS =
  '0xf1B59694124eda7bc1e1e0853cA45f3a44c40Dc3';
export const FANTOM_V3_MIGRATOR_ADDRESS =
  '0xe4dE043E2e148409308fBd88c38Eb9da7f93d0A4';


const AVALANCHE_V3_CORE_FACTORY_ADDRESSES = '0x467C6f21E272584eDBc856a3DB3B7F9a1678f068';
const AVALANCHE_QUOTER_ADDRESSES = '0xfaCB5309c51f8C4E93F63b47254cE8DfF7313615';
const AVALANCHE_MULTICALL_ADDRESS = '0x9CDb2D1b13262A47572D12CC7802fBDe3a87c997';
export const AVALANCHE_TICK_LENS_ADDRESS =
  '0x9f52faDb43d98A8B99B35dA9f84e2034BdafF39F';
export const AVALANCHE_NONFUNGIBLE_POSITION_MANAGER_ADDRESS =
  '0x3713974fd2fa958e0C97328591d38f5Db7B9ab2F';
export const AVALANCHE_SWAP_ROUTER_02_ADDRESS =
  '0x579D82f601CF346Fc1CBeFbF33F2Ffd5508a8068';
export const AVALANCHE_V3_MIGRATOR_ADDRESS =
  '0x8944f4D29454C57eB0dD5de0aCA9868011262299';


const MOONBEAM_V3_CORE_FACTORY_ADDRESSES = '0xf9CAF7Ffde2822DA3B3B257baC2A15b534B04E7e';
const MOONBEAM_QUOTER_ADDRESSES = '0xAe9B34DAea7063567A1A550b5d7c17B5177aA563';
const MOONBEAM_MULTICALL_ADDRESS = '0xb78A9994376D204EB72a8F77940B66adc6F58E8F';
export const MOONBEAM_TICK_LENS_ADDRESS =
  '0xd09d73531fEa59299c179435ca309c999f005165';
export const MOONBEAM_NONFUNGIBLE_POSITION_MANAGER_ADDRESS =
  '0x0A6725a65E89730A3183A200BD83bd8474a2bc3d';
export const MOONBEAM_SWAP_ROUTER_02_ADDRESS =
  '0x097185A88ABa6ef9a2B18A4fffdAeE9638C79398';
export const MOONBEAM_V3_MIGRATOR_ADDRESS =
  '0x6997fa83E81f2d52c832644A24Fe5e0BDc3944D2';


const GNOSIS_V3_CORE_FACTORY_ADDRESSES =
  '0xdB1d10011AD0Ff90774D0C6Bb92e5C5c8b4461F7';
const GNOSIS_QUOTER_ADDRESSES = '0x78D78E420Da98ad378D7799bE8f4AF69033EB077';
const GNOSIS_MULTICALL_ADDRESS = '0x963Df249eD09c358A4819E39d9Cd5736c3087184';
export const GNOSIS_TICK_LENS_ADDRESS =
  '0xD9270014D396281579760619CCf4c3af0501A47C';
export const GNOSIS_NONFUNGIBLE_POSITION_MANAGER_ADDRESS =
  '0x7b8A01B39D58278b5DE7e48c8449c9f4F5170613';
export const GNOSIS_SWAP_ROUTER_02_ADDRESS =
  '0xB971eF87ede563556b2ED4b1C0b0019111Dd85d2';
export const GNOSIS_V3_MIGRATOR_ADDRESS =
  '0x32681814957e0C13117ddc0c2aba232b5c9e760f';

const KLAYTN_V3_CORE_FACTORY_ADDRESSES =
  '0xdB1d10011AD0Ff90774D0C6Bb92e5C5c8b4461F7';
const KLAYTN_QUOTER_ADDRESSES = '0x78D78E420Da98ad378D7799bE8f4AF69033EB077';
const KLAYTN_MULTICALL_ADDRESS = '0x963Df249eD09c358A4819E39d9Cd5736c3087184';
export const KLAYTN_TICK_LENS_ADDRESS =
  '0xD9270014D396281579760619CCf4c3af0501A47C';
export const KLAYTN_NONFUNGIBLE_POSITION_MANAGER_ADDRESS =
  '0x7b8A01B39D58278b5DE7e48c8449c9f4F5170613';
export const KLAYTN_SWAP_ROUTER_02_ADDRESS =
  '0xB971eF87ede563556b2ED4b1C0b0019111Dd85d2';
export const KLAYTN_V3_MIGRATOR_ADDRESS =
  '0x32681814957e0C13117ddc0c2aba232b5c9e760f';

export const V3_CORE_FACTORY_ADDRESSES: AddressMap = {
  ...constructSameAddressMap(FACTORY_ADDRESS),
  [ChainId.CELO]: CELO_V3_CORE_FACTORY_ADDRESSES,
  [ChainId.CELO_ALFAJORES]: CELO_V3_CORE_FACTORY_ADDRESSES,
  [ChainId.OPTIMISM_GOERLI]: OPTIMISM_GOERLI_V3_CORE_FACTORY_ADDRESSES,
  [ChainId.ARBITRUM_GOERLI]: ARBITRUM_GOERLI_V3_CORE_FACTORY_ADDRESSES,
  [ChainId.BSC]: BSC_V3_CORE_FACTORY_ADDRESSES,
  [ChainId.FANTOM]: FANTOM_V3_CORE_FACTORY_ADDRESSES,
  [ChainId.GNOSIS]: GNOSIS_V3_CORE_FACTORY_ADDRESSES,
  [ChainId.KLAYTN]: KLAYTN_V3_CORE_FACTORY_ADDRESSES,
  [ChainId.AVALANCHE]: AVALANCHE_V3_CORE_FACTORY_ADDRESSES,
  [ChainId.MOONBEAM]: MOONBEAM_V3_CORE_FACTORY_ADDRESSES,
  // TODO: Gnosis + Moonbeam contracts to be deployed
};

export const QUOTER_V2_ADDRESSES: AddressMap = {
  ...constructSameAddressMap('0x61fFE014bA17989E743c5F6cB21bF9697530B21e'),
  [ChainId.CELO]: CELO_QUOTER_ADDRESSES,
  [ChainId.CELO_ALFAJORES]: CELO_QUOTER_ADDRESSES,
  [ChainId.OPTIMISM_GOERLI]: OPTIMISM_GOERLI_QUOTER_ADDRESSES,
  [ChainId.ARBITRUM_GOERLI]: ARBITRUM_GOERLI_QUOTER_ADDRESSES,
  [ChainId.BSC]: BSC_QUOTER_ADDRESSES,
  [ChainId.FANTOM]: FANTOM_QUOTER_ADDRESSES,
  [ChainId.GNOSIS]: GNOSIS_QUOTER_ADDRESSES,
  [ChainId.KLAYTN]: KLAYTN_QUOTER_ADDRESSES,
  [ChainId.AVALANCHE]: AVALANCHE_QUOTER_ADDRESSES,
  [ChainId.MOONBEAM]: MOONBEAM_QUOTER_ADDRESSES,
  // TODO: Gnosis + Moonbeam contracts to be deployed
};

export const MIXED_ROUTE_QUOTER_V1_ADDRESSES: AddressMap = {
  [ChainId.MAINNET]: '0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E',
  [ChainId.RINKEBY]: '0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E',
  [ChainId.ROPSTEN]: '0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E',
  [ChainId.GÖRLI]: '0xBa60b6e6fF25488308789E6e0A65D838be34194e',
};

export const UNISWAP_MULTICALL_ADDRESSES: AddressMap = {
  ...constructSameAddressMap('0x1F98415757620B543A52E61c46B32eB19261F984'),
  [ChainId.CELO]: CELO_MULTICALL_ADDRESS,
  [ChainId.CELO_ALFAJORES]: CELO_MULTICALL_ADDRESS,
  [ChainId.OPTIMISM_GOERLI]: OPTIMISM_GOERLI_MULTICALL_ADDRESS,
  [ChainId.ARBITRUM_GOERLI]: ARBITRUM_GOERLI_MULTICALL_ADDRESS,
  [ChainId.BSC]: BSC_MULTICALL_ADDRESS,
  [ChainId.FANTOM]: FANTOM_MULTICALL_ADDRESS,
  [ChainId.GNOSIS]: GNOSIS_MULTICALL_ADDRESS,
  [ChainId.KLAYTN]: KLAYTN_MULTICALL_ADDRESS,
  [ChainId.AVALANCHE]: AVALANCHE_MULTICALL_ADDRESS,
  [ChainId.MOONBEAM]: MOONBEAM_MULTICALL_ADDRESS,
  // TODO: Gnosis + Moonbeam contracts to be deployed
};

export const SWAP_ROUTER_02_ADDRESSES = (chainId: number) => {
  if (chainId == ChainId.BSC) {
    return BSC_SWAP_ROUTER_02_ADDRESS;
  }
  if (chainId == ChainId.FANTOM) {
    return FANTOM_SWAP_ROUTER_02_ADDRESS;
  }
  if (chainId == ChainId.GNOSIS) {
    return GNOSIS_SWAP_ROUTER_02_ADDRESS;
  }
  if (chainId == ChainId.KLAYTN) {
    return KLAYTN_SWAP_ROUTER_02_ADDRESS;
  }
  if (chainId == ChainId.AVALANCHE) {
    return AVALANCHE_SWAP_ROUTER_02_ADDRESS;
  }
  if (chainId == ChainId.MOONBEAM) {
    return MOONBEAM_SWAP_ROUTER_02_ADDRESS;
  }
  return '0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45';
};

export const OVM_GASPRICE_ADDRESS =
  '0x420000000000000000000000000000000000000F';
export const ARB_GASINFO_ADDRESS = '0x000000000000000000000000000000000000006C';
export const TICK_LENS_ADDRESS = '0xbfd8137f7d1516D3ea5cA83523914859ec47F573';
export const NONFUNGIBLE_POSITION_MANAGER_ADDRESS =
  '0xC36442b4a4522E871399CD717aBDD847Ab11FE88';
export const V3_MIGRATOR_ADDRESS = '0xA5644E29708357803b5A882D272c41cC0dF92B34';
export const MULTICALL2_ADDRESS = '0x5BA1e12693Dc8F9c48aAD8770482f4739bEeD696';

export type AddressMap = { [chainId: number]: string };

export function constructSameAddressMap<T extends string>(
  address: T,
  additionalNetworks: ChainId[] = []
): { [chainId: number]: T } {
  return NETWORKS_WITH_SAME_UNISWAP_ADDRESSES.concat(
    additionalNetworks
  ).reduce<{
    [chainId: number]: T;
  }>((memo, chainId) => {
    memo[chainId] = address;
    return memo;
  }, {});
}

export const WETH9: {
  [chainId in Exclude<
    ChainId,
    | ChainId.POLYGON
    | ChainId.POLYGON_MUMBAI
    | ChainId.CELO
    | ChainId.CELO_ALFAJORES
    | ChainId.GNOSIS
    | ChainId.MOONBEAM
    | ChainId.BSC
    | ChainId.FANTOM
    | ChainId.GNOSIS
    | ChainId.KLAYTN
    | ChainId.AVALANCHE
  >]: Token;
} = {
  [ChainId.MAINNET]: new Token(
    ChainId.MAINNET,
    '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2',
    18,
    'WETH',
    'Wrapped Ether'
  ),
  [ChainId.ROPSTEN]: new Token(
    ChainId.ROPSTEN,
    '0xc778417E063141139Fce010982780140Aa0cD5Ab',
    18,
    'WETH',
    'Wrapped Ether'
  ),
  [ChainId.RINKEBY]: new Token(
    ChainId.RINKEBY,
    '0xc778417E063141139Fce010982780140Aa0cD5Ab',
    18,
    'WETH',
    'Wrapped Ether'
  ),
  [ChainId.GÖRLI]: new Token(
    ChainId.GÖRLI,
    '0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6',
    18,
    'WETH',
    'Wrapped Ether'
  ),
  [ChainId.KOVAN]: new Token(
    ChainId.KOVAN,
    '0xd0A1E359811322d97991E03f863a0C30C2cF029C',
    18,
    'WETH',
    'Wrapped Ether'
  ),
  [ChainId.OPTIMISM]: new Token(
    ChainId.OPTIMISM,
    '0x4200000000000000000000000000000000000006',
    18,
    'WETH',
    'Wrapped Ether'
  ),
  [ChainId.OPTIMISM_GOERLI]: new Token(
    ChainId.OPTIMISM_GOERLI,
    '0x4200000000000000000000000000000000000006',
    18,
    'WETH',
    'Wrapped Ether'
  ),
  [ChainId.OPTIMISTIC_KOVAN]: new Token(
    ChainId.OPTIMISTIC_KOVAN,
    '0x4200000000000000000000000000000000000006',
    18,
    'WETH',
    'Wrapped Ether'
  ),
  [ChainId.ARBITRUM_ONE]: new Token(
    ChainId.ARBITRUM_ONE,
    '0x82aF49447D8a07e3bd95BD0d56f35241523fBab1',
    18,
    'WETH',
    'Wrapped Ether'
  ),
  [ChainId.ARBITRUM_RINKEBY]: new Token(
    ChainId.ARBITRUM_RINKEBY,
    '0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681',
    18,
    'WETH',
    'Wrapped Ether'
  ),
  [ChainId.ARBITRUM_GOERLI]: new Token(
    ChainId.ARBITRUM_GOERLI,
    '0xe39Ab88f8A4777030A534146A9Ca3B52bd5D43A3',
    18,
    'WETH',
    'Wrapped Ether'
  ),
};
